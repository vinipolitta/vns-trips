"use strict";(self.webpackChunkvnsCreative=self.webpackChunkvnsCreative||[]).push([[896],{9896:(D,d,p)=>{p.r(d),p.d(d,{OrderModule:()=>J});var m=p(1469),c=p(9808),e=p(1223);function f(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"i",1),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.setRate(i))})("onChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.eventChange(a))})("mouseenter",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.setTemporatyRate(i))})("mouseleave",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearTemporaryRate())}),e.qZA()}if(2&r){const t=o.$implicit,n=e.oxw();e.Q6J("ngClass",n.getStars(t))}}let g=(()=>{class r{constructor(){this.rates=[1,2,3,4,5],this.rate=0,this.rated=new e.vpe}ngOnInit(){}eventChange(t){console.log(t),this.rated.emit(t)}getStars(t){var n=t<=this.rate?"fa fa-star":t>this.rate?"fa-regular fa-star":"";return console.log(n),n}setRate(t){this.rate=t,this.previousRate=void 0,this.rated.emit(this.rate)}setTemporatyRate(t){void 0===this.previousRate&&(this.previousRate=this.rate),this.rate=t}clearTemporaryRate(){void 0!==this.previousRate&&(this.rate=this.previousRate,this.previousRate=void 0)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-rating"]],outputs:{rated:"rated"},decls:1,vars:1,consts:[[3,"ngClass","click","onChange","mouseenter","mouseleave",4,"ngFor","ngForOf"],[3,"ngClass","click","onChange","mouseenter","mouseleave"]],template:function(t,n){1&t&&e.YNc(0,f,1,1,"i",0),2&t&&e.Q6J("ngForOf",n.rates)},dependencies:[c.mk,c.sg]}),r})();function _(r,o){1&r&&(e.TgZ(0,"p"),e._uU(1,"Obrigado pela sua avalia\xe7ao"),e.qZA())}let h=(()=>{class r{constructor(){}ngOnInit(){}rate(){console.log("teste"),this.rated=!0}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-sumary"]],decls:15,vars:1,consts:[[1,"col-12"],[1,"card","card-chart"],[1,"card-header"],[1,"jumbotron","colorCard"],[1,"text-warning","d-flex","justify-content-center"],[3,"rated"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),e._uU(5,"Pedido Conlu\xeddo"),e.qZA(),e.TgZ(6,"p"),e._uU(7," Seu pedido foi recebido pelo restaurante. Prepare a mesa que a comida est\xe1 chegando! "),e.qZA(),e.TgZ(8,"p")(9,"b"),e._uU(10,"Avalie"),e.qZA(),e._uU(11," sua experi\xeancia:"),e.qZA(),e.TgZ(12,"p",4)(13,"app-rating",5),e.NdJ("rated",function(){return n.rate()}),e.qZA()(),e.YNc(14,_,2,0,"p",6),e.qZA()()()()),2&t&&(e.xp6(14),e.Q6J("ngIf",!n.rated))},dependencies:[c.O5,g],styles:[".colorCard[_ngcontent-%COMP%]{background:rgb(49,93,244);background:radial-gradient(circle,rgb(49,93,244) 5%,rgb(33,130,247) 92%)}"]}),r})();var u=p(9560),s=p(2382);class v{constructor(o,t){this.quantity=o,this.menuId=t}}var C=p(2340),y=p(5812),Z=p(520);let O=(()=>{class r{constructor(t,n){this.cartService=t,this.http=n,this.API=C.N.apiURL}cartItems(){return this.cartService.items}increaseQty(t){this.cartService.increaseQty(t)}decreaseQty(t){this.cartService.decreaseQty(t)}remove(t){this.cartService.removeItem(t)}itemValue(){return this.cartService.total()}checkOrder(t){return(new Headers).append("Content-Type","application/json"),this.http.post(this.API+"/orders",t)}clear(){this.cartService.clear()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.T),e.LFG(Z.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function T(r,o){1&r&&(e.TgZ(0,"span",5),e._UZ(1,"i",2),e._uU(2," Ok"),e.qZA())}function b(r,o){if(1&r&&(e.TgZ(0,"span",6),e._UZ(1,"i",7),e._uU(2),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.errorMessage," ")}}const I=["*"];let x=(()=>{class r{constructor(){}ngOnInit(){}ngAfterContentInit(){if(this.input=this.model||this.control,void 0===this.input)throw new Error("Esse componente precisa ser usado com uma diretiva ngModel ou formControlName")}hasSuccess(){return this.input.valid&&(this.input.dirty||this.input.touched)}hasError(){return this.input.invalid&&(this.input.dirty||this.input.touched)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-input-container"]],contentQueries:function(t,n,a){if(1&t&&(e.Suo(a,s.On,5),e.Suo(a,s.u,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.model=i.first),e.iGM(i=e.CRH())&&(n.control=i.first)}},inputs:{label:"label",errorMessage:"errorMessage"},ngContentSelectors:I,decls:7,vars:7,consts:[[1,"form-group"],["for","inputSuccess",1,"control-label","sr-only"],[1,"fa","fa-check"],["class","help-block mt-2","style","color: #00f2c3",4,"ngIf"],["class","help-block","style","color: red",4,"ngIf"],[1,"help-block","mt-2",2,"color","#00f2c3"],[1,"help-block",2,"color","red"],[1,"fa","fa-remove"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"label",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.Hsn(4,0,["#name",""]),e.YNc(5,T,3,0,"span",3),e.YNc(6,b,3,1,"span",4),e.qZA()),2&t&&(e.ekj("has-success",n.hasSuccess())("has-danger",n.hasError()),e.xp6(3),e.hij(" ",n.label,""),e.xp6(2),e.Q6J("ngIf",n.hasSuccess()),e.xp6(1),e.Q6J("ngIf",n.hasError()))},dependencies:[c.O5]}),r})();function A(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",2),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.setValue(i.value))}),e.qZA(),e.TgZ(2,"label",3),e._uU(3),e.qZA()()}if(2&r){const t=o.$implicit,n=e.oxw();e.xp6(1),e.ekj("checked",t.value===n.value),e.xp6(2),e.hij(" ",t.label," ")}}let q=(()=>{class r{constructor(){}ngOnInit(){}setValue(t){this.value=t,this.onChange(this.value),console.log(this.value)}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){}setDisabledState(t){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-radio"]],inputs:{options:"options"},features:[e._Bn([{provide:s.JU,useExisting:(0,e.Gpc)(()=>r),multi:!0}])],decls:1,vars:1,consts:[["class","",4,"ngFor","ngForOf"],[1,""],["type","radio","name","radioPayment","id","radioBtn","value","option1","checked","",1,"form-check-input",3,"click"],["for","radioBtn",1,"form-check-label"]],template:function(t,n){1&t&&e.YNc(0,A,4,3,"div",0),2&t&&e.Q6J("ngForOf",n.options)},dependencies:[c.sg]}),r})();function k(r,o){if(1&r&&(e.TgZ(0,"th",5),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function Q(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",5)(2,"a",6),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.emitDecreaseQty(i))}),e._UZ(3,"i",7),e.qZA(),e._uU(4),e.TgZ(5,"a",6),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.emitIncreaseQty(i))}),e._UZ(6,"i",8),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",9),e._uU(12),e.ALo(13,"currency"),e.qZA(),e.TgZ(14,"td",9)(15,"a",10),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.emitRemove(i))}),e._UZ(16,"i",11),e.qZA()()()}if(2&r){const t=o.$implicit;e.xp6(4),e.hij(" \xa0 ",t.quantity," \xa0 "),e.xp6(4),e.Oqu(t.menuItem.name),e.xp6(2),e.Oqu(t.menuItem.description),e.xp6(2),e.Oqu(e.Dn7(13,4,t.value(),"BRL",!0))}}function U(r,o){if(1&r&&(e.TgZ(0,"table",2)(1,"thead")(2,"tr"),e.YNc(3,k,2,1,"th",3),e.qZA()(),e.TgZ(4,"tbody"),e.YNc(5,Q,17,8,"tr",4),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.coluns),e.xp6(2),e.Q6J("ngForOf",t.items)}}const S=function(){return["/market"]};function F(r,o){1&r&&(e.TgZ(0,"div",12)(1,"p"),e._uU(2," Nao ha itens no seu carrinho. Que ral come\xe7ar por "),e.TgZ(3,"a",13),e._uU(4,"aqui?"),e.qZA()()()),2&r&&(e.xp6(3),e.Q6J("routerLink",e.DdM(1,S)))}let R=(()=>{class r{constructor(){this.increaseQty=new e.vpe,this.decreaseQty=new e.vpe,this.remove=new e.vpe}ngOnInit(){console.log(this.items)}emitIncreaseQty(t){this.increaseQty.emit(t)}emitDecreaseQty(t){this.decreaseQty.emit(t)}emitRemove(t){this.remove.emit(t),console.log(this.items)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-itens"]],inputs:{items:"items",coluns:"coluns"},outputs:{increaseQty:"increaseQty",decreaseQty:"decreaseQty",remove:"remove"},decls:2,vars:2,consts:[["class","table table-striped",4,"ngIf"],["class","col-xs-12",4,"ngIf"],[1,"table","table-striped"],["class","text-center",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-info",3,"click"],[1,"fa","fa-minus"],[1,"fa","fa-plus"],[1,"text-right"],[1,"text-danger",3,"click"],[1,"fa","fa-remove"],[1,"col-xs-12"],[3,"routerLink"]],template:function(t,n){1&t&&(e.YNc(0,U,6,2,"table",0),e.YNc(1,F,5,2,"div",1)),2&t&&(e.Q6J("ngIf",n.items&&0!==n.items.length),e.xp6(1),e.Q6J("ngIf",!n.items||0===n.items.length))},dependencies:[c.sg,c.O5,u.yS,c.H9]}),r})(),M=(()=>{class r{constructor(){}ngOnInit(){}total(){return this.delivery+this.itemsValue}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-delivery-costs"]],inputs:{delivery:"delivery",itemsValue:"itemsValue"},decls:21,vars:15,consts:[[1,"table-responsive"],[1,"table"],[2,"width","50%"],[1,"text-right"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"tbody")(3,"tr")(4,"th",2),e._uU(5,"Itens:"),e.qZA(),e.TgZ(6,"td",3),e._uU(7),e.ALo(8,"currency"),e.qZA()(),e.TgZ(9,"tr")(10,"th"),e._uU(11,"Frete:"),e.qZA(),e.TgZ(12,"td",3),e._uU(13),e.ALo(14,"currency"),e.qZA()(),e.TgZ(15,"tr")(16,"th"),e._uU(17,"Total:"),e.qZA(),e.TgZ(18,"td",3),e._uU(19),e.ALo(20,"currency"),e.qZA()()()()()),2&t&&(e.xp6(7),e.Oqu(e.Dn7(8,3,n.itemsValue,"BRL",!0)),e.xp6(6),e.Oqu(e.Dn7(14,7,n.delivery,"BRL",!0)),e.xp6(6),e.Oqu(e.Dn7(20,11,n.total(),"BRL",!0)))},dependencies:[c.H9]}),r})();function N(r,o){1&r&&(e.TgZ(0,"span",41),e._UZ(1,"i",42),e._uU(2," Emails nao conferem "),e.qZA())}const E=[{path:"",component:(()=>{class r{constructor(t,n,a){this.orderService=t,this.route=n,this.fb=a,this.coluns=["Quantities","Item","Description","Subtotal"],this.paymentOptions=[{label:"Dinheiro",value:"MON"},{label:"Cartao Debito",value:"DEB"},{label:"Cartao Refeicao",value:"REF"}],this.delivery=8}ngOnInit(){console.log(0===this.cartItem().length),this.forms()}forms(){this.orderForms=this.fb.group({name:this.fb.control("",[s.kI.required,s.kI.minLength(5)]),email:this.fb.control("",[s.kI.required,s.kI.email]),emailConf:this.fb.control("",[s.kI.required,s.kI.email]),address:this.fb.control("",[s.kI.required,s.kI.minLength(5)]),number:this.fb.control("",[s.kI.required]),optionalAddress:this.fb.control(""),paymentOption:this.fb.control("",[s.kI.required])},{validator:r.equalsTo})}static equalsTo(t){const n=t.get("email"),a=t.get("emailConf");if(n&&a&&n.value!==a.value)return{emailsNotMatch:!0}}itemsValue(){return this.orderService.itemValue()}cartItem(){return this.orderService.cartItems()}increaseQty(t){this.orderService.increaseQty(t)}decreaseQty(t){this.orderService.decreaseQty(t)}remove(t){this.orderService.remove(t)}checkOrder(t){t.orderItems=this.cartItem().map(n=>new v(n.quantity,n.menuItem.id)),this.orderService.checkOrder(t).subscribe(n=>{this.route.navigate(["order/order-summary"]),this.orderService.clear()}),console.log(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(O),e.Y36(u.F0),e.Y36(s.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order"]],decls:62,vars:8,consts:[[1,"col-12"],[1,"card","card-chart"],[1,"card-header"],[1,"container",3,"formGroup"],[1,"row"],[1,"col-xs-12"],[1,"page-header"],[1,"fa","fa-shopping-cart"],[1,"lead"],[1,"row","d-flex","justify-content-end"],[1,"col-xs-12","col-sm-3"],["class","help-block","style","color: red",4,"ngIf"],[1,"col-sm-6","col-xs-12"],["errorMessage","Campo Obrigatorio ","label","Name"],["formControlName","name","placeholder","Name",1,"form-control","marginInputError"],[1,"col-sm-3","col-xs-6"],["errorMessage","Campo Obrigatorio!!","label","Email"],["formControlName","email","type","text","placeholder","Email",1,"form-control","marginInputError"],["errorMessage","Campo Obrigatorio!!","label","Email Conf"],["formControlName","emailConf","type","text","placeholder","Email Conf",1,"form-control","marginInputError"],["errorMessage","Campo Obrigatorio e com no minimo 5 caracteres","label","Endere\xe7o"],["formControlName","address","ngModel","","required","","minLength","5","placeholder","Endere\xe7o",1,"form-control","marginInputError"],[1,"col-sm-2","col-xs-6"],["errorMessage","Campo Obrigatorio!!","label","Numero"],["required","","formControlName","number","ngModel","","type","number","id","inputSuccess","placeholder","N\xfamero",1,"form-control","marginInputError"],[1,"col-sm-4","col-xs-6"],["errorMessage","Numero Obrigatorio!!","label","Numero"],["formControlName","optionalAddress","ngModel","","type","text","id","inputSuccess","placeholder","Complemento",1,"form-control","marginInputError"],[1,"col-xs-12","table-responsive"],[3,"items","coluns","decreaseQty","increaseQty","remove"],[1,"row","d-flex","justify-content-between"],[1,"col-sm-6"],[1,"ml-4"],[1,"form-group"],["formControlName","paymentOption","ngModel","","required","",3,"options"],[1,"col-sm-6",2,"padding","0 !important"],[3,"delivery","itemsValue"],[1,"row","d-flex","justify-content-center"],[1,"col-xs-12","text-center","mb-3"],[1,"btn","btn-success","pull-right",3,"disabled","click"],[1,"fa","fa-credit-card"],[1,"help-block",2,"color","red"],[1,"fa","fa-remove"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5)(6,"h2",6),e._UZ(7,"i",7),e._uU(8," Finalize o seu pedido "),e.qZA()()(),e.TgZ(9,"div",4)(10,"div",5)(11,"p",8),e._uU(12,"Seus Dados:"),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10),e.YNc(15,N,3,0,"span",11),e.qZA()(),e.TgZ(16,"div",4)(17,"div",12)(18,"app-input-container",13),e._UZ(19,"input",14),e.qZA()(),e.TgZ(20,"div",15)(21,"app-input-container",16),e._UZ(22,"input",17),e.qZA()(),e.TgZ(23,"div",15)(24,"app-input-container",18),e._UZ(25,"input",19),e.qZA()()(),e.TgZ(26,"div",4)(27,"div",5)(28,"p",8),e._uU(29,"Endere\xe7o de Entrega:"),e.qZA()()(),e.TgZ(30,"div",4)(31,"div",12)(32,"app-input-container",20),e._UZ(33,"input",21),e.qZA()(),e.TgZ(34,"div",22)(35,"app-input-container",23),e._UZ(36,"input",24),e.qZA()(),e.TgZ(37,"div",25)(38,"app-input-container",26),e._UZ(39,"input",27),e.qZA()()(),e.TgZ(40,"div",4)(41,"div",5)(42,"p",8),e._uU(43,"Itens do Pedido:"),e.qZA()(),e.TgZ(44,"div",28)(45,"app-order-itens",29),e.NdJ("decreaseQty",function(i){return n.decreaseQty(i)})("increaseQty",function(i){return n.increaseQty(i)})("remove",function(i){return n.remove(i)}),e.qZA()()(),e.TgZ(46,"div",30)(47,"div",31)(48,"p",8),e._uU(49,"Formas de Pagamento:"),e.qZA(),e.TgZ(50,"div",32)(51,"div",33),e._UZ(52,"app-radio",34),e.qZA()()(),e.TgZ(53,"div",35)(54,"p",8),e._uU(55,"Frete e Total:"),e.qZA(),e._UZ(56,"app-delivery-costs",36),e.qZA()(),e.TgZ(57,"div",37)(58,"div",38)(59,"button",39),e.NdJ("click",function(){return n.checkOrder(n.orderForms.value)}),e._UZ(60,"i",40),e._uU(61," Concluir Pedido "),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.orderForms),e.xp6(12),e.Q6J("ngIf",n.orderForms.hasError("emailsNotMatch")),e.xp6(30),e.Q6J("items",n.cartItem())("coluns",n.coluns),e.xp6(7),e.Q6J("options",n.paymentOptions),e.xp6(4),e.Q6J("delivery",n.delivery)("itemsValue",n.itemsValue()),e.xp6(3),e.Q6J("disabled",n.orderForms.invalid||0===n.cartItem().length))},dependencies:[c.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.sg,s.u,x,q,R,M],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}input[type=number][_ngcontent-%COMP%]{-webkit-appearance:textfield;appearance:textfield}.marginInputError[_ngcontent-%COMP%]{margin-bottom:5px!important}"]}),r})()},{path:"order-summary",component:h}];let w=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.Bz.forChild(E),u.Bz]}),r})(),J=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.ez,w,s.UX,s.u5,u.Bz,m.m]}),r})()}}]);